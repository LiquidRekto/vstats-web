<div
  class="mat-border-divider rounded border border-solid p-4 mb-4"
  *ngIf="streamTimesQry | useQry as result"
>
  <div class="flex flex-row items-center mb-4">
    <div class="flex-1">
      <div class="mat-h3 m-0" i18n="@@stream-times">Stream Times</div>
      <div class="mat-text-caption mat-secondary-text">
        {{ getTotal(result?.data) | formatDuration }} in 45 weeks
      </div>
    </div>

    <vts-menu
      [value]="precision"
      (change)="precision = $event"
      [options]="precisionOptions"
    />
  </div>

  <ng-container [ngSwitch]="precision">
    <vts-stream-time-calendar *ngSwitchCase="'day'" [times]="result?.data" />

    <vts-stream-time-bar-chart
      *ngSwitchCase="'hour'"
      [times]="result?.data"
      groupBy="hour"
    />

    <vts-stream-time-bar-chart
      *ngSwitchCase="'month'"
      [times]="result?.data"
      groupBy="month"
    />

    <vts-stream-time-bar-chart
      *ngSwitchCase="'weekday'"
      [times]="result?.data"
      groupBy="weekday"
    />
  </ng-container>
</div>
