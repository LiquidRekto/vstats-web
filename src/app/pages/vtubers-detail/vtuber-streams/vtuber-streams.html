<div class="mat-h3 font-medium" i18n="@@recentStreams">Recent Streams</div>

<ng-container *ngIf="result() as result">
  <div
    class="flex flex-row items-center mb-4 gap-2 overflow-y-hidden overflow-x-auto"
  >
    <hls-date-filter (selectedChange)="selectedDateRange.set($event)" />

    <hls-keyword-filter (onChange)="keyword.set($event)" />

    <div class="flex-1"></div>

    <hls-refresh-button
      [isLoading]="result.isFetching"
      [refresh]="result.refetch"
      [updatedAt]="result.data?.pages[0].updatedAt"
    />
  </div>

  <hls-stream-list
    *ngIf="!result.isError"
    [loading]="result.isLoading"
    [items]="result.data?.pages[0].items"
    [hideSpinner]="!result.hasNextPage"
    (reachedEnd)="result.isFetchingNextPage ? null : result.fetchNextPage()"
  >
  </hls-stream-list>
</ng-container>
